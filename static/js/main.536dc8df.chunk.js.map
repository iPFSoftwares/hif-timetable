{"version":3,"sources":["utils.js","SearchEmployees.jsx","SelectActivity.jsx","AddSession.jsx","EditSession.jsx","SessionTile.jsx","SingleEmployeeSchedule.jsx","SpotlightSearch.jsx","App.js","index.js"],"names":["getTimeFromNumber","number","numArray","toString","split","hour","reverse","slice","join","min","padStart","getNumberFromTimeArray","hrs","mins","time","Number","replace","numberTimeDiff","larger","smaller","lh","lm","addMinutesToTime","duration","hours","minutes","totalMinutes","addedHours","Math","floor","getTimeFromRow","row","rowValue","useCitySearch","searchTerm","useState","cities","setCities","useEffect","trim","isFresh","value","cache","Promise","resolve","fetch","then","res","json","result","fetchCities","SearchEmployees","placeholder","onChange","setSearchTerm","className","onSelect","name","selectedEmployee","find","full_name","event","target","autoFocus","length","map","employee","style","height","src","dp","alt","_id","SelectActivity","selectedActivity","title","activity","hourChoices","minuteChoices","EmployeePicker","setValue","onClick","ActivityPicker","AddSession","session","onClose","onSave","setEmployee","reviewer","setReviewer","startTime","digit","setStartTime","endTime","setEndTime","description","setDescription","setActivity","mutation","useMutation","updatedUser","method","body","JSON","stringify","headers","onSuccess","isLoading","isError","error","isSuccess","data","fill","viewBox","d","e","h","type","startTimeNumber","endTimeNumber","owner","console","log","mutate","EditSession","SessionTile","onEdit","onDelete","mouseOver","setMouseOver","shiftSelected","setShiftSelected","deleting","setDeleting","selfReview","asReviewer","colStart","round","colEnd","gridArea","canDelete","window","addEventListener","shiftReleased","onShiftSelected","removeEventListener","deleter","onMouseOver","onMouseLeave","_","fontSize","marginTop","display","alignItems","width","objectFit","borderRadius","SingleEmployeeSchedule","sessions","sortedSessions","sort","a","b","SpotlightSearch","onSelectUser","inputRef","useRef","onShiftUp","key","current","document","fromSpotlight","ref","ScheduleGrid","employees","onSessionsUpdated","selectedUser","setSelectedUser","newSession","setNewSession","sessionBeingEdited","setSessionBeingEdited","spotlightSearch","setSpotlightSearch","userPermissionsInitEvent","CustomEvent","dispatchEvent","setTimeout","onShiftDown","getEmployeeSessions","employeeId","filter","handleOnSaveSession","i","border","boxShadow","flex","position","gap","gridTemplateColumns","Array","background","index","user","App","useQuery","color","top","zIndex","borderRight","padding","flexShrink","tin_number","refetch","queryClient","QueryClient","ReactDOM","render","client","getElementById"],"mappings":"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","file":"static/js/main.536dc8df.chunk.js","sourcesContent":["export const getTimeFromNumber = (number) => {\n    var numArray = number.toString().split('');\n    var hour = [...numArray].reverse().slice(2).reverse().join('');\n    var min = numArray.slice(-2).join('');\n    return `${hour.padStart(2, '0')}:${min.padStart(2, '0')}`;\n}\n\nexport const getNumberFromTimeArray = ([hrs,mins]) => {\n    hrs = hrs.toString().padStart(2, '0');\n    mins = mins.toString().padStart(2, '0');\n    var time = getTimeFromNumber(Number(`${hrs}${mins}`));\n    return Number(time.replace(':', ''));\n}\n\nexport const numberTimeDiff = (larger, smaller) => {\n    let [lh, lm] = getTimeFromNumber(larger).split(\":\");\n    let [sh, sm] = getTimeFromNumber(smaller).split(\":\");\n\n    var hourDiff = lh-sh;\n    var minDiff = lm-sm;\n\n    return (hourDiff*60) + minDiff;\n}\n\nexport const addMinutesToTime = (number, duration) => {\n    var [hours, minutes] = getTimeFromNumber(number).split(\":\");\n    var totalMinutes = Number(minutes)+Number(duration);\n    var addedHours = Math.floor(totalMinutes / 60);\n    hours = (Number(hours) + addedHours).toString();\n    minutes = (totalMinutes % 60).toString();\n    \n    return `${hours.padStart(2, '0')}:${minutes.padStart(2, '0')}`;\n}\n\nexport const getTimeFromRow = (row) => {\n    var number = row - 1;\n    var rowValue = (Math.floor(number / 4) + 8) * 100;\n    rowValue += Math.floor(number % 4) * 15;\n    var [hours, mins] = getTimeFromNumber(rowValue).split(\":\");\n    return `${hours.padStart(2, '0')}:${mins}`;\n}","import {\n    Combobox,\n    ComboboxInput,\n    ComboboxPopover,\n    ComboboxList,\n    ComboboxOption\n} from \"@reach/combobox\";\nimport { useEffect, useState } from \"react\";\n\nfunction useCitySearch(searchTerm) {\n  const [cities, setCities] = useState([]);\n\n  useEffect(() => {\n    if (searchTerm.trim() !== \"\") {\n      let isFresh = true;\n      fetchCities(searchTerm).then((cities) => {\n        if (isFresh) setCities(cities);\n      });\n      return () => (isFresh = false);\n    }\n  }, [searchTerm]);\n\n  return cities;\n}\n\nconst cache = {};\nfunction fetchCities(value) {\n  if (cache[value]) {\n    return Promise.resolve(cache[value]);\n  }\n  return fetch(\"https://walterkimaro.com/api/Employee/search?q=\" + value)\n    .then((res) => res.json())\n    .then((result) => {\n      cache[value] = result;\n      return result;\n    });\n}\n\nfunction SearchEmployees({placeholder = \"Type to search\", onChange}) {\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const cities = useCitySearch(searchTerm);\n    const handleSearchTermChange = (event) => {\n      setSearchTerm(event.target.value);\n    };\n    const handleSelect = (name) => {\n      const selectedEmployee= cities.find(({full_name}) => full_name === name);\n      onChange(selectedEmployee);\n    };\n\n    return (\n      <Combobox aria-label=\"Cities\" className=\"w-full\"\n        onSelect={handleSelect}\n      >\n        <ComboboxInput\n          className=\"w-full py-1 px-2 rounded border border-gray-300 focus:outline-none bg-gray-100\"\n          placeholder={placeholder}\n          onChange={handleSearchTermChange}\n          autoFocus\n        />\n        {cities && (\n          <ComboboxPopover className=\"rounded overflow-hidden bg-white shadow-lg border z-20\">\n            {cities.length > 0 ? (\n              <ComboboxList>\n                {cities.map((employee) => {\n                  return (\n                      <ComboboxOption key={employee._id} value={employee.full_name}>\n                          <div className=\"flex items-center px-2 border-t border-gray-300\" style={{height: \"34px\"}}>\n                              <div className=\"border relative w-6 h-6 rounded-full overflow-hidden\">\n                                  <img className=\"absolute w-full h-full object-cover\" src={employee.dp} alt=\"\" />\n                              </div>\n                              <span className=\"ml-2 text-sm\">{employee.full_name}</span>\n                          </div>\n                      </ComboboxOption>\n                  );\n                })}\n              </ComboboxList>\n            ) : (\n              <span className=\"block p-3\">\n                No results found\n              </span>\n            )}\n          </ComboboxPopover>\n        )}\n      </Combobox>\n    );\n  }\n\nexport default SearchEmployees;","import {\n    Combobox,\n    ComboboxInput,\n    ComboboxPopover,\n    ComboboxList,\n    ComboboxOption\n} from \"@reach/combobox\";\nimport { useEffect, useState } from \"react\";\n\nfunction useCitySearch(searchTerm) {\n  const [cities, setCities] = useState([]);\n\n  useEffect(() => {\n    if (searchTerm.trim() !== \"\") {\n      let isFresh = true;\n      fetchCities(searchTerm).then((cities) => {\n        if (isFresh) setCities(cities);\n      });\n      return () => (isFresh = false);\n    }\n  }, [searchTerm]);\n\n  return cities;\n}\n\nconst cache = {};\nfunction fetchCities(value) {\n  if (cache[value]) {\n    return Promise.resolve(cache[value]);\n  }\n  return fetch(\"https://walterkimaro.com/api/SessionType/search?q=\" + value)\n    .then((res) => res.json())\n    .then((result) => {\n      cache[value] = result;\n      return result;\n    });\n}\n\nfunction SelectActivity({placeholder = \"Type to search\", onChange}) {\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const cities = useCitySearch(searchTerm);\n    const handleSearchTermChange = (event) => {\n      setSearchTerm(event.target.value);\n    };\n    const handleSelect = (name) => {\n      const selectedActivity= cities.find(({title}) => title === name);\n      onChange(selectedActivity);\n    };\n\n    return (\n      <Combobox aria-label=\"Cities\" className=\"w-full\"\n        onSelect={handleSelect}\n      >\n        <ComboboxInput\n          className=\"w-full py-1 px-2 rounded border border-gray-300 focus:outline-none bg-gray-100\"\n          placeholder={placeholder}\n          onChange={handleSearchTermChange}\n          autoFocus\n        />\n        {cities && (\n          <ComboboxPopover className=\"rounded overflow-hidden bg-white shadow-lg border z-20\">\n            {cities.length > 0 ? (\n              <ComboboxList>\n                {cities.map((activity) => {\n                  return (\n                      <ComboboxOption \n                        key={activity._id} \n                        className=\"px-3 py-2\"\n                        value={activity.title} \n                      />\n                  );\n                })}\n              </ComboboxList>\n            ) : (\n              <span className=\"block p-3\">\n                No results found\n              </span>\n            )}\n          </ComboboxPopover>\n        )}\n      </Combobox>\n    );\n  }\n\nexport default SelectActivity;","import { useEffect, useState } from \"react\";\nimport { addMinutesToTime, getNumberFromTimeArray, getTimeFromNumber, numberTimeDiff } from \"./utils\";\nimport SearchEmployees from \"./SearchEmployees\";\nimport SelectActivity from \"./SelectActivity\";\nimport { useMutation } from \"react-query\";\n\nconst hourChoices = [8,9,10,11,12,13,14,15,16];\nconst minuteChoices = [0, 15, 30, 45];\n\nfunction EmployeePicker({employee, onChange}){\n    const [value, setValue] = useState(employee);\n    useEffect(() => {\n        if(value && value !== employee)\n            onChange(value);\n    }, [value]);\n\n    return (\n        <>\n            { value && (        \n                <div className=\"flex items-center px-2 rounded bg-gray-200 bg-opacity-25 border border-gray-300\" style={{height: \"34px\"}}>\n                    <div className=\"border relative w-6 h-6 rounded-full overflow-hidden\">\n                        <img className=\"absolute w-full h-full object-cover\" src={value.dp} alt=\"\" />\n                    </div>\n                    <span className=\"ml-2 text-sm\">{value.full_name}</span>\n\n                    <button className=\"ml-auto text-blue-900 text-xs p-0\" onClick={() => setValue(null)}>\n                        Change\n                    </button>\n                </div>\n            )}\n\n            { !value && <SearchEmployees onChange={setValue} /> }\n        </>\n    );\n}\n\nfunction ActivityPicker({activity, onChange}){\n    const [value, setValue] = useState(activity);\n    useEffect(() => {\n        if(value && value !== activity)\n            onChange(value);\n    }, [value]);\n\n    return (\n        <>\n            { value && (        \n                <div className=\"flex items-center px-2 rounded bg-gray-200 bg-opacity-25 border border-gray-300\" style={{height: \"34px\"}}>\n                    <span className=\"ml-2 text-sm\">{value.title}</span>\n\n                    <button className=\"ml-auto text-blue-900 text-xs p-0\" onClick={() => setValue(null)}>\n                        Change\n                    </button>\n                </div>\n            )}\n\n            { !value && <SelectActivity onChange={setValue} /> }\n        </>\n    );\n}\n\nfunction AddSession({ session, onClose, onSave }) {\n    const duration = session.duration || 60;\n    const [employee, setEmployee] = useState(session.employee);\n    const [reviewer, setReviewer] = useState(session.employee);\n    const [startTime, setStartTime] = useState(session.startTime.split(\":\").map(digit => Number(digit)));\n    const [endTime, setEndTime] = useState([8,30]);\n    const [description, setDescription] = useState(\"\");\n    const [activity, setActivity] = useState(null);\n\n    const mutation = useMutation((updatedUser) =>\n        fetch('https://walterkimaro.com/api/Session', {\n            method: \"POST\",\n            body: JSON.stringify(updatedUser),\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n        ).then(res =>res.json()),\n        {\n            onSuccess: () => {\n                onSave();\n            },\n        }\n    );\n\n    const { isLoading, isError, error, isSuccess, data } = mutation;\n\n    useEffect(() => {\n        setEndTime(addMinutesToTime(Number(session.startTime.replace(\":\", \"\")), duration).split(\":\").map(digit => Number(digit)));\n    }, []);\n\n    function handleSave(){\n        const startTimeNumber = getNumberFromTimeArray(startTime);\n        const endTimeNumber = getNumberFromTimeArray(endTime);\n\n        const data = {\n            time: startTimeNumber,\n            duration: numberTimeDiff(endTimeNumber, startTimeNumber),\n            activity: activity._id,\n            description,\n            owner: employee._id,\n            reviewer: reviewer._id,\n        };\n\n        // onSave(data);\n        console.log(\"Save session:\", data);\n        mutation.mutate(data);\n    }\n\n    return (\n        <div className=\"fixed overflow-y-auto inset-0 bg-black bg-opacity-75 z-10 flex items-center justify-center\">\n            <div className=\"fixed inset-0\" onClick={onClose}>\n\n            </div>\n            <div className=\"rounded-md overflow-hidden w-full max-w-sm relative z-10\">\n                <div className=\"bg-blue-900 text-white py-3 px-4 flex items-center justify-between\">\n                    <h3 className=\"font-semibold\">\n                        Add Session\n                    </h3>\n\n                    <button className=\"p-1 hover:bg-white hover:bg-opacity-25 rounded-full\" onClick={onClose}>\n                        <svg className=\"w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\" /></svg>\n                    </button>\n                </div>\n\n                <div className=\"bg-white py-3 px-4\">\n                    {\n                        isError && <span>Error saving session: {error}</span>\n                    }\n\n                    <div className=\"mb-3\">\n                        Employee\n\n                        <EmployeePicker employee={employee} onChange={setEmployee} />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        Activity\n\n                        <ActivityPicker activity={activity} onChange={setActivity} />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <div className=\"flex items-center\">\n                            <div className=\"flex-1 flex-shrink-0 mr-2\">\n                                <label>Start Time</label>\n\n                                <div className=\"inline-flex items-center px-2 rounded bg-gray-100 border border-gray-300\" style={{height: \"34px\"}}>\n                                    <select className=\"\" value={startTime[0]} onChange={e => setStartTime([e.target.value, startTime[1]])}>\n                                        {\n                                            hourChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                    <span className=\"mx-3 text-gray-400\">|</span>\n                                    <select className=\"px-\" value={startTime[1]} onChange={e => setStartTime([startTime[0], e.target.value])}>\n                                        {\n                                            minuteChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n\n                            <div className=\"flex-1 flex-shrink-0\">\n                                <label>End time</label>\n\n                                <div className=\"inline-flex items-center px-2 rounded bg-gray-100 border border-gray-300\" style={{height: \"34px\"}}>\n                                    <select className=\"\" value={endTime[0]} onChange={e => setEndTime([e.target.value, endTime[1]])}>\n                                        {\n                                            hourChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                    <span className=\"mx-3 text-gray-400\">|</span>\n                                    <select className=\"px-\" value={endTime[1]} onChange={e => setEndTime([endTime[0], e.target.value])}>\n                                        {\n                                            minuteChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div className=\"mb-2\">\n                        <label>Session Details</label>\n\n                        <textarea type=\"text\" className=\"w-full py-1 px-2 rounded bg-gray-100 border border-gray-300 resize-y\" \n                            value={description}\n                            onChange={e => setDescription(e.target.value)}\n                        ></textarea>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        Reviewer\n\n                        <EmployeePicker employee={reviewer} onChange={setReviewer} />\n                    </div>\n\n                    <div className=\"flex justify-end\">\n                        <button className=\"mt-3 mb-1 text-sm py-1 px-6 rounded-full border border-blue-900 text-blue-900\"\n                            onClick={handleSave}\n                        >\n                            { isLoading ? 'Please Wait...' : 'Save Session' }\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AddSession;","import { useEffect, useState } from \"react\";\nimport { addMinutesToTime, getNumberFromTimeArray, getTimeFromNumber, numberTimeDiff } from \"./utils\";\nimport SearchEmployees from \"./SearchEmployees\";\nimport SelectActivity from \"./SelectActivity\";\nimport { useMutation } from \"react-query\";\n\nconst hourChoices = [8,9,10,11,12,13,14,15,16];\nconst minuteChoices = [0, 15, 30, 45];\n\nfunction EmployeePicker({employee, onChange}){\n    const [value, setValue] = useState(employee);\n    useEffect(() => {\n        if(value && value !== employee)\n            onChange(value);\n    }, [value]);\n\n    return (\n        <>\n            { value && (        \n                <div className=\"flex items-center px-2 rounded bg-gray-200 bg-opacity-25 border border-gray-300\" style={{height: \"34px\"}}>\n                    <div className=\"border relative w-6 h-6 rounded-full overflow-hidden\">\n                        <img className=\"absolute w-full h-full object-cover\" src={value.dp} alt=\"\" />\n                    </div>\n                    <span className=\"ml-2 text-sm\">{value.full_name}</span>\n\n                    <button className=\"ml-auto text-blue-900 text-xs p-0\" onClick={() => setValue(null)}>\n                        Change\n                    </button>\n                </div>\n            )}\n\n            { !value && <SearchEmployees onChange={setValue} /> }\n        </>\n    );\n}\n\nfunction ActivityPicker({activity, onChange}){\n    const [value, setValue] = useState(activity);\n    useEffect(() => {\n        if(value && value !== activity)\n            onChange(value);\n    }, [value]);\n\n    return (\n        <>\n            { value && (        \n                <div className=\"flex items-center px-2 rounded bg-gray-200 bg-opacity-25 border border-gray-300\" style={{height: \"34px\"}}>\n                    <span className=\"ml-2 text-sm\">{value.title}</span>\n\n                    <button className=\"ml-auto text-blue-900 text-xs p-0\" onClick={() => setValue(null)}>\n                        Change\n                    </button>\n                </div>\n            )}\n\n            { !value && <SelectActivity onChange={setValue} /> }\n        </>\n    );\n}\n\nfunction EditSession({ session, onClose, onSave }) {\n    const duration = session.duration;\n    const [employee, setEmployee] = useState(session.owner);\n    const [reviewer, setReviewer] = useState(session.reviewer);\n    const [startTime, setStartTime] = useState(getTimeFromNumber(session.time).split(\":\").map(digit => Number(digit)));\n    const [endTime, setEndTime] = useState([8,30]);\n    const [description, setDescription] = useState(session.description);\n    const [activity, setActivity] = useState(session.activity);\n\n    const mutation = useMutation((updatedUser) =>\n        fetch('https://walterkimaro.com/api/Session/' + session._id, {\n            method: \"PATCH\",\n            body: JSON.stringify(updatedUser),\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n        ).then(res =>res.json()),\n        {\n            onSuccess: () => {\n                onSave();\n            },\n        }\n    );\n\n    const { isLoading, isError, error, isSuccess, data } = mutation;\n\n    useEffect(() => {\n        const startTime = getTimeFromNumber(session.time).replace(\":\", \"\");\n        setEndTime(addMinutesToTime(Number(startTime), duration).split(\":\").map(digit => Number(digit)));\n    }, []);\n\n    function handleSave(){\n        const startTimeNumber = getNumberFromTimeArray(startTime);\n        const endTimeNumber = getNumberFromTimeArray(endTime);\n\n        const data = {\n            time: startTimeNumber,\n            duration: numberTimeDiff(endTimeNumber, startTimeNumber),\n            activity: activity._id,\n            description,\n            owner: employee._id,\n            reviewer: reviewer._id,\n        };\n\n        // onSave(data);\n        console.log(\"Save session:\", data);\n        mutation.mutate(data);\n    }\n\n    return (\n        <div className=\"fixed overflow-y-auto inset-0 bg-black bg-opacity-75 z-10 flex items-center justify-center\">\n            <div className=\"fixed inset-0\" onClick={onClose}>\n\n            </div>\n            <div className=\"rounded-md overflow-hidden w-full max-w-sm relative z-10\">\n                <div className=\"bg-blue-900 text-white py-3 px-4 flex items-center justify-between\">\n                    <h3 className=\"font-semibold\">\n                        Edit Session\n                    </h3>\n\n                    <button className=\"p-1 hover:bg-white hover:bg-opacity-25 rounded-full\" onClick={onClose}>\n                        <svg className=\"w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\" /></svg>\n                    </button>\n                </div>\n\n                <div className=\"bg-white py-3 px-4\">\n                    {\n                        isError && <span>Error saving session: {error}</span>\n                    }\n\n                    <div className=\"mb-3\">\n                        Employee\n\n                        <EmployeePicker employee={employee} onChange={setEmployee} />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        Activity\n\n                        <ActivityPicker activity={activity} onChange={setActivity} />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <div className=\"flex items-center\">\n                            <div className=\"flex-1 flex-shrink-0 mr-2\">\n                                <label>Start Time</label>\n\n                                <div className=\"inline-flex items-center px-2 rounded bg-gray-100 border border-gray-300\" style={{height: \"34px\"}}>\n                                    <select className=\"\" value={startTime[0]} onChange={e => setStartTime([e.target.value, startTime[1]])}>\n                                        {\n                                            hourChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                    <span className=\"mx-3 text-gray-400\">|</span>\n                                    <select className=\"px-\" value={startTime[1]} onChange={e => setStartTime([startTime[0], e.target.value])}>\n                                        {\n                                            minuteChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n\n                            <div className=\"flex-1 flex-shrink-0\">\n                                <label>End time</label>\n\n                                <div className=\"inline-flex items-center px-2 rounded bg-gray-100 border border-gray-300\" style={{height: \"34px\"}}>\n                                    <select className=\"\" value={endTime[0]} onChange={e => setEndTime([e.target.value, endTime[1]])}>\n                                        {\n                                            hourChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                    <span className=\"mx-3 text-gray-400\">|</span>\n                                    <select className=\"px-\" value={endTime[1]} onChange={e => setEndTime([endTime[0], e.target.value])}>\n                                        {\n                                            minuteChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div className=\"mb-2\">\n                        <label>Session Details</label>\n\n                        <textarea type=\"text\" className=\"w-full py-1 px-2 rounded bg-gray-100 border border-gray-300 resize-y\" \n                            value={description}\n                            onChange={e => setDescription(e.target.value)}\n                        ></textarea>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        Reviewer\n\n                        <EmployeePicker employee={reviewer} onChange={setReviewer} />\n                    </div>\n\n                    <div className=\"flex justify-end\">\n                        <button className=\"mt-3 mb-1 text-sm py-1 px-6 rounded-full border border-blue-900 text-blue-900\"\n                            onClick={handleSave}\n                        >\n                            { isLoading ? 'Please Wait...' : 'Save Session' }\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default EditSession;","import { useState, useEffect } from \"react\";\nimport { useMutation } from \"react-query\";\nimport { addMinutesToTime, getTimeFromNumber } from \"./utils\";\n\nconst SessionTile = ({ session, employee, onEdit, onDelete }) => {\n    const [mouseOver, setMouseOver] = useState(false);\n    const [shiftSelected, setShiftSelected] = useState(false);\n    const [deleting, setDeleting] = useState(false);\n\n    let selfReview = session.reviewer._id === session.owner._id;\n    let asReviewer = false;\n    if (!selfReview && session.reviewer._id === employee._id)\n        asReviewer = true;\n\n    let rowStart = 1, rowEnd = 1;\n    let timeDiff = Math.round((session.time - 800) / 100) * 100;\n    let colStart = (timeDiff / 25) + 1;\n    colStart += ((session.time - 800) % 100) / 15;\n    let colEnd = colStart + (session.duration / 15);\n    let gridArea = `${rowStart} / ${colStart} / ${rowEnd} / ${colEnd}`;\n\n    const canDelete = mouseOver && shiftSelected;\n\n    useEffect(() => {\n        window.addEventListener(\"shift-released\", shiftReleased, false);\n        window.addEventListener(\"shift-selected\", onShiftSelected, false);\n        return () => {\n            console.log(\"Listener removed from tile\");\n            window.removeEventListener(\"shift-released\", shiftReleased, false);\n            window.removeEventListener(\"shift-selected\", onShiftSelected, false);\n        };\n    }, []);\n\n    const deleter = useMutation(() =>\n      fetch('https://walterkimaro.com/api/Session/' + session._id, {\n          method: \"DELETE\",\n          headers: {\n            'Content-Type': 'application/json'\n          }\n      })\n      .then(res =>res.json()), {\n          onSuccess: onDelete,\n      });\n\n    function shiftReleased(e){\n        console.log(\"Shift release captured\");\n        setShiftSelected(false);\n    }\n\n    function onShiftSelected(e){\n        console.log(\"Shift release captured\");\n        setShiftSelected(true);\n    }\n\n    function handleDeleteSession(){\n        setDeleting(true);\n        deleter.mutate();\n    }\n\n    return (\n        <div className={`session-card pointer-events-auto cursor-pointer bg-blue-900 text-white relative ${deleting && 'animate-pulse'}`} style={{ gridArea }}\n            onMouseOver={(e) => setMouseOver(true)}\n            onMouseLeave={_ => setMouseOver(false)}\n            onClick={_ => canDelete ? handleDeleteSession() : onEdit(session)}\n        >\n            {(canDelete || deleting) &&\n                <div className=\"z-10 bg-red-500 absolute inset-0 flex items-center px-2 text-xs\">\n                    { deleting ? 'Removing Session...' : 'Remove Session' }\n                </div>\n            }\n            <div>\n                <div className=\"truncate opacity-50\" style={{ fontSize: \"10px\" }}>\n                    {getTimeFromNumber(session.time)} - {addMinutesToTime(session.time, session.duration)}\n                </div>\n                <h3 className=\"mt-0.5\">\n                    {asReviewer &&\n                        <span>Review {session.owner.full_name}</span>\n                    }\n                    {!asReviewer && session.activity.title}\n                </h3>\n                {!selfReview && !asReviewer && (\n                    <div style={{ marginTop: \"0.15rem\", display: \"flex\", alignItems: \"center\", fontSize: \"13px\" }}>\n                        <img style={{ width: \"20px\", height: \"20px\", objectFit: \"cover\", borderRadius: \"50%\" }}\n                            title={'Reviewer: ' + session.reviewer.full_name} src={session.reviewer.dp} alt=\"\"\n                        />\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default SessionTile;","import { addMinutesToTime, getTimeFromNumber } from \"./utils\";\n\nfunction SingleEmployeeSchedule({ employee, sessions, onClose }) {\n    const sortedSessions = sessions.sort((a, b) => a.time - b.time);\n\n    return (\n        <div className=\"fixed overflow-y-auto inset-0 bg-black bg-opacity-75 z-10 flex items-center justify-center\">\n            <div className=\"fixed inset-0\" onClick={onClose}>\n\n            </div>\n            <div className=\"rounded-lg overflow-hidden w-full max-w-lg relative z-10\">\n                <div className=\"bg-blue-900 text-white py-3 px-4 flex items-center justify-between\">\n                    <div className=\"flex items-center\">\n                        <div className=\"border relative w-8 h-8 rounded-full overflow-hidden\">\n                            <img className=\"absolute w-full h-full object-cover\" src={employee.dp} alt=\"\" />\n                        </div>\n                        <h3 className=\"ml-3\">{employee.full_name}</h3>\n                    </div>\n\n                    <button className=\"p-1 hover:bg-white hover:bg-opacity-25 rounded-full\" onClick={onClose}>\n                        <svg className=\"w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\" /></svg>\n                    </button>\n                </div>\n\n                <div className=\"bg-white p-3\">\n                    {sortedSessions.map((session) => {\n                        let selfReview = session.reviewer._id === session.owner._id;\n                        let asReviewer = false;\n                        if (!selfReview && session.reviewer._id === employee._id)\n                            asReviewer = true;\n\n                        return (\n                            <div key={session._id} className=\"mb-3\">\n                                <div className=\"flex items-start\">\n                                    <span className=\"w-32 ml-2 mr-2 flex-shrink-0 text-blue-900\">\n                                        {getTimeFromNumber(session.time)} - {addMinutesToTime(session.time, session.duration)}\n                                    </span>\n\n                                    <div className=\"flex-1\">\n                                        <h3 className=\"font-semibold\">\n                                            {asReviewer && <span><span className=\"font-normal\">Review</span> {session.owner.full_name}</span>}\n                                            {!asReviewer && session.activity.title}\n                                        </h3>\n                                        <p className=\"text-sm opacity-75\">\n                                            {session.description}\n                                        </p>\n\n                                        {!selfReview && !asReviewer && (\n                                            <div className=\"flex items-center mt-1\">\n                                                <img style={{ width: \"24px\", height: \"24px\", objectFit: \"cover\", borderRadius: \"50%\" }}\n                                                    title={'Reviewer: ' + session.reviewer.full_name} src={session.reviewer.dp} alt=\"\"\n                                                />\n\n                                                <span className=\"ml-3\">\n                                                    Reviewer: {session.reviewer.full_name}\n                                                </span>\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default SingleEmployeeSchedule;","import { useEffect, useRef, useState } from \"react\";\nimport { useMutation } from \"react-query\";\n\nimport {\n    Combobox,\n    ComboboxInput,\n    ComboboxPopover,\n    ComboboxList,\n    ComboboxOption\n} from \"@reach/combobox\";\n\nfunction useCitySearch(searchTerm) {\n  const [cities, setCities] = useState([]);\n\n  useEffect(() => {\n    if (searchTerm.trim() !== \"\") {\n      let isFresh = true;\n      fetchCities(searchTerm).then((cities) => {\n        if (isFresh) setCities(cities);\n      });\n      return () => (isFresh = false);\n    }\n  }, [searchTerm]);\n\n  return cities;\n}\n\nconst cache = {};\nfunction fetchCities(value) {\n  if (cache[value]) {\n    return Promise.resolve(cache[value]);\n  }\n  return fetch(\"https://walterkimaro.com/api/Employee/search?q=\" + value)\n    .then((res) => res.json())\n    .then((result) => {\n      cache[value] = result;\n      return result;\n    });\n}\n\nfunction SpotlightSearch({placeholder = \"Search Employee\", onClose, onSelectUser}) {\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const cities = useCitySearch(searchTerm);\n    const inputRef = useRef(null);\n\n    useEffect(() => {\n        document.addEventListener(\"keyup\", onShiftUp, false);\n        return () => {\n            document.removeEventListener(\"keyup\", onShiftUp, false);\n        };\n    }, []);\n\n    function onShiftUp(e){\n        if(e.key === \"Escape\"){\n            if(inputRef.current.value.length)\n                setSearchTerm(\"\");\n            else\n                onClose();\n        };\n    }\n    \n    const handleSearchTermChange = (event) => {\n        if(event.target.value === inputRef.current.value)\n          setSearchTerm(event.target.value);\n    };\n\n    const handleSelect = (name) => {\n      const selectedEmployee= cities.find(({full_name}) => full_name === name);\n      onSelectUser({...selectedEmployee, fromSpotlight: true});\n    };\n\n    return (\n        <div className=\"fixed overflow-y-auto inset-0 bg-black bg-opacity-75 z-10 flex items-center justify-center\">\n            <div className=\"fixed inset-0\" onClick={onClose}>\n\n            </div>\n            <div className=\"overflow-hidden w-full max-w-sm relative z-10\">\n                <div className=\"\">\n                    <Combobox aria-label=\"Cities\" className=\"w-full\"\n                        onSelect={handleSelect}\n                    >\n                        <ComboboxInput\n                            ref={inputRef}\n                            className=\"w-full bg-white py-3 px-4 text-xl rounded border-none bg-transparent focus:outline-none placeholder-gray-300\"\n                            placeholder={placeholder}\n                            value={searchTerm}\n                            onChange={handleSearchTermChange}\n                            autoFocus\n                        />\n                        {cities && (\n                            <ComboboxPopover className=\"-mt-1 bg-white relative rounded-b overflow-hidden bg-white shadow-lg border z-20\">\n                                {cities.length > 0 ? (\n                                <ComboboxList>\n                                    {cities.map((employee) => {\n                                    return (\n                                        <ComboboxOption key={employee._id} value={employee.full_name}>\n                                            <div className=\"flex items-center py-2 px-4 border-b border-gray-100\">\n                                                <div className=\"border relative w-6 h-6 rounded-full overflow-hidden\">\n                                                    <img className=\"absolute w-full h-full object-cover\" src={employee.dp} alt=\"\" />\n                                                </div>\n                                                <span className=\"ml-2 text-sm\">{employee.full_name}</span>\n                                            </div>\n                                        </ComboboxOption>\n                                    );\n                                    })}\n                                </ComboboxList>\n                                ) : (\n                                <span className=\"block p-3\">\n                                    No results found\n                                </span>\n                                )}\n                            </ComboboxPopover>\n                        )}\n                    </Combobox>\n                </div>\n            </div>\n        </div>\n    );\n  }\n\nexport default SpotlightSearch;","import { useEffect, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport AddSession from './AddSession';\nimport './App.css';\nimport EditSession from './EditSession';\nimport SessionTile from './SessionTile';\nimport SingleEmployeeSchedule from './SingleEmployeeSchedule';\nimport SpotlightSearch from './SpotlightSearch';\nimport { getTimeFromRow } from './utils';\n\nconst hours = 8;\n\nfunction ScheduleGrid({employees, sessions, onSessionsUpdated}){\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [newSession, setNewSession] = useState(null);\n  const [sessionBeingEdited, setSessionBeingEdited] = useState(null);\n  const [spotlightSearch, setSpotlightSearch] = useState(false);\n  \n  useEffect(() => {\n    document.addEventListener(\"keyup\", onShiftUp, false);\n    document.addEventListener(\"keydown\", onShiftDown, false);\n    return () => {\n        document.removeEventListener(\"keydown\", onShiftDown, false);\n        document.removeEventListener(\"keyup\", onShiftUp, false);\n    };\n  }, []);\n\n  function onShiftUp(e){\n    if(e.key === \"Shift\"){\n      const userPermissionsInitEvent = new CustomEvent('shift-released');\n      window.dispatchEvent(userPermissionsInitEvent);\n    }\n\n    else if(!newSession && !sessionBeingEdited){\n      if(e.key === \"/\")\n          setSpotlightSearch(true);\n      else if(e.key === \"Escape\"){\n        if(selectedUser && selectedUser.fromSpotlight){\n          setSpotlightSearch(true);\n          setTimeout(() => setSelectedUser(null), 20);\n        }\n        else\n          setSelectedUser(null);\n      }\n    }\n  }\n\n  function onShiftDown(e){\n    if(e.key === \"Shift\"){\n      const userPermissionsInitEvent = new CustomEvent('shift-selected');\n      window.dispatchEvent(userPermissionsInitEvent);\n    }\n  }\n\n  function getEmployeeSessions(employeeId){\n    if(!sessions || !sessions.length)\n      return [];\n\n    return sessions.filter(session => {\n      return session.owner._id === employeeId || session.reviewer._id === employeeId;\n    });\n  }\n\n  function handleOnSaveSession(){\n    setNewSession(null);\n    setSessionBeingEdited(null);\n    onSessionsUpdated();\n  }\n\n  return (\n    <>\n      {\n        employees.map((e, i) => (\n          <div key={e._id} style={{display: 'flex', border: \"2px solid #f5f5f5\"}}>\n            <div className=\"employee-title hover:bg-gray-200 cursor-pointer\" onClick={() => setSelectedUser(e)}>\n              <img style={{width: \"20px\", height: \"20px\", objectFit: \"cover\", borderRadius: \"50%\", boxShadow: \"0 0 1px rgba(0, 0, 0, 0.26)\"}} \n                title={'Reviewer: ' + e.full_name} src={e.dp} alt=\"\" \n              />\n              <span>{e.full_name}</span>\n            </div>\n            <div style={{flex: 1, position: \"relative\"}}>\n              <div style={{height: \"100%\",display: 'grid', gap: \"1px\", gridTemplateColumns: `repeat(${hours * 4}, 1fr)`}}>\n                {\n                  Array(hours*4).fill(12).map((_, i) => (\n                    <div key={i} style={{display: 'flex', background: \"#ddd\", position: 'relative'}}\n                      className=\"cursor-pointer\"\n                      // onClick={() => {console.log(\"Add new session: \", {employee: e, startTime: getTimeFromRow(i+1)});}}\n                      onClick={() => setNewSession({employee: e, startTime: getTimeFromRow(i+1)})}\n                    >\n                      {/* <span style={{position: \"absolute\"}}>{ i + 1 }</span> */}\n                    </div>\n                  ))\n                }\n              </div>\n\n              <div className=\"absolute inset-0 grid pointer-events-none\" style={{background: \"rgba(0, 0, 0, 0.01)\", gap: \"1px\", gridTemplateColumns: `repeat(${hours * 4}, 1fr)`}}>\n                {\n                  getEmployeeSessions(e._id).map((session, index) => {\n                    return (\n                      <SessionTile \n                        key={index} \n                        employee={e} \n                        session={session} \n                        onEdit={setSessionBeingEdited}\n                        onDelete={handleOnSaveSession}\n                      />\n                    );\n                  })\n                }\n              </div>\n            </div>\n          </div>\n        ))}\n\n        { selectedUser && (\n            <SingleEmployeeSchedule \n              employee={selectedUser}\n              sessions={getEmployeeSessions(selectedUser._id)}\n              onClose={_ => setSelectedUser(null)}\n            />\n          )\n        }\n\n        { newSession && (\n            <AddSession \n              session={newSession}\n              onClose={_ => setNewSession(null)}\n              onSave={handleOnSaveSession}\n            />\n          )\n        }\n\n        { sessionBeingEdited && (\n            <EditSession \n              session={sessionBeingEdited}\n              onClose={_ => setSessionBeingEdited(null)}\n              onSave={handleOnSaveSession}\n            />\n          )\n        }\n        \n        { spotlightSearch && (\n            <SpotlightSearch \n              onSelectUser={user => {setSpotlightSearch(false); setSelectedUser(user)}}\n              onClose={_ => setSpotlightSearch(false)}\n            />\n          )\n        }\n    </>\n  );\n}\n\nfunction App() {\n  const {isLoading, error, data} = useQuery('employeeList', () =>\n    fetch('https://walterkimaro.com/api/Employee').then(res =>\n      res.json()\n    )\n  );\n\n  const sessions = useQuery('sessions', () =>\n    fetch('https://walterkimaro.com/api/Session').then(res =>\n      res.json()\n    )\n  );\n\n  if (isLoading || sessions.isLoading) return 'Loading...';\n\n  return (\n    <div>\n      <div style={{display: 'flex', background: \"#fff\", color: \"white\", position: \"sticky\", top: 0, zIndex: 1}}>\n        <div style={{background:\"#333\", borderRight: \"1px solid #fff\", padding: '0.25rem', width: '90px', flexShrink: 0}}>\n          {/* Person / Time */}\n        </div>\n        <div style={{flex: 1, display: 'grid', gap: \"1px\", gridTemplateColumns: `repeat(${hours}, 1fr)`}}>\n          {\n            Array(hours).fill(11).map((_, i) => (\n              <div key={i} style={{display: 'flex', background: \"#333\", padding: '0.25rem'}}>\n                { 8 + i}:00\n              </div>\n            ))\n          }\n        </div>\n      </div>\n\n      <ScheduleGrid \n        employees={data.sort((a, b) => a.tin_number - b.tin_number)}\n        sessions={sessions.data} \n        onSessionsUpdated={() => sessions.refetch() }\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { QueryClient, QueryClientProvider } from 'react-query'\n \n const queryClient = new QueryClient();\n\n\nReactDOM.render(\n  // <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n     </QueryClientProvider>\n  // </React.StrictMode>,\n  , document.getElementById('root')\n);"],"sourceRoot":""}