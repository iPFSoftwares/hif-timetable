{"version":3,"sources":["utils.js","constants.js","SearchEmployees.jsx","SelectActivity.jsx","ActivityPicker.jsx","AddSession.jsx","EditSession.jsx","SessionTile.jsx","SingleEmployeeSchedule.jsx","SpotlightSearch.jsx","App.js","index.js"],"names":["getTimeFromNumber","number","numArray","toString","split","hour","reverse","slice","join","min","padStart","getNumberFromTimeArray","hrs","mins","time","Number","replace","numberTimeDiff","larger","smaller","lh","lm","addMinutesToTime","duration","hours","minutes","totalMinutes","addedHours","Math","floor","getTimeFromRow","row","rowValue","defaultActivity","useCitySearch","searchTerm","useState","cities","setCities","useEffect","trim","isFresh","value","cache","Promise","resolve","fetch","then","res","json","result","fetchCities","SearchEmployees","placeholder","onChange","setSearchTerm","className","onSelect","name","selectedEmployee","find","full_name","event","target","autoFocus","length","map","employee","style","height","src","dp","alt","_id","SelectActivity","searchQuery","onSearchQueryChange","selectedActivity","title","activity","ActivityPicker","setValue","onClick","hourChoices","minuteChoices","EmployeePicker","AddSession","session","onClose","onSave","setEmployee","reviewer","setReviewer","startTime","digit","setStartTime","endTime","setEndTime","description","setDescription","setActivity","setTitle","mutation","useMutation","updatedUser","method","body","JSON","stringify","headers","onSuccess","isLoading","isError","error","isSuccess","data","fill","viewBox","d","e","h","type","startTimeNumber","endTimeNumber","owner","console","log","mutate","EditSession","SessionTile","onEdit","onDelete","mouseOver","setMouseOver","shiftSelected","setShiftSelected","deleting","setDeleting","selfReview","asReviewer","colStart","round","colEnd","gridArea","canDelete","window","addEventListener","shiftReleased","onShiftSelected","removeEventListener","deleter","onMouseOver","onMouseLeave","_","fontSize","marginTop","display","alignItems","width","objectFit","borderRadius","SingleEmployeeSchedule","sessions","sortedSessions","sort","a","b","SpotlightSearch","onSelectUser","inputRef","useRef","onShiftUp","key","current","document","fromSpotlight","ref","ScheduleGrid","employees","onSessionsUpdated","selectedUser","setSelectedUser","newSession","setNewSession","sessionBeingEdited","setSessionBeingEdited","spotlightSearch","setSpotlightSearch","userPermissionsInitEvent","CustomEvent","dispatchEvent","setTimeout","onShiftDown","getEmployeeSessions","employeeId","filter","handleOnSaveSession","i","border","boxShadow","flex","position","gap","gridTemplateColumns","Array","background","index","user","App","useQuery","color","top","zIndex","borderRight","padding","flexShrink","tin_number","refetch","queryClient","QueryClient","ReactDOM","render","client","getElementById"],"mappings":"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","file":"static/js/main.12845596.chunk.js","sourcesContent":["export const getTimeFromNumber = (number) => {\n    var numArray = number.toString().split('');\n    var hour = [...numArray].reverse().slice(2).reverse().join('');\n    var min = numArray.slice(-2).join('');\n    return `${hour.padStart(2, '0')}:${min.padStart(2, '0')}`;\n}\n\nexport const getNumberFromTimeArray = ([hrs,mins]) => {\n    hrs = hrs.toString().padStart(2, '0');\n    mins = mins.toString().padStart(2, '0');\n    var time = getTimeFromNumber(Number(`${hrs}${mins}`));\n    return Number(time.replace(':', ''));\n}\n\nexport const numberTimeDiff = (larger, smaller) => {\n    let [lh, lm] = getTimeFromNumber(larger).split(\":\");\n    let [sh, sm] = getTimeFromNumber(smaller).split(\":\");\n\n    var hourDiff = lh-sh;\n    var minDiff = lm-sm;\n\n    return (hourDiff*60) + minDiff;\n}\n\nexport const addMinutesToTime = (number, duration) => {\n    var [hours, minutes] = getTimeFromNumber(number).split(\":\");\n    var totalMinutes = Number(minutes)+Number(duration);\n    var addedHours = Math.floor(totalMinutes / 60);\n    hours = (Number(hours) + addedHours).toString();\n    minutes = (totalMinutes % 60).toString();\n    \n    return `${hours.padStart(2, '0')}:${minutes.padStart(2, '0')}`;\n}\n\nexport const getTimeFromRow = (row) => {\n    var number = row - 1;\n    var rowValue = (Math.floor(number / 4) + 8) * 100;\n    rowValue += Math.floor(number % 4) * 15;\n    var [hours, mins] = getTimeFromNumber(rowValue).split(\":\");\n    return `${hours.padStart(2, '0')}:${mins}`;\n}","export const defaultActivity = \"a535186e-5e34-4bc1-872f-d06d7b604613\";","import {\n    Combobox,\n    ComboboxInput,\n    ComboboxPopover,\n    ComboboxList,\n    ComboboxOption\n} from \"@reach/combobox\";\nimport { useEffect, useState } from \"react\";\n\nfunction useCitySearch(searchTerm) {\n  const [cities, setCities] = useState([]);\n\n  useEffect(() => {\n    if (searchTerm.trim() !== \"\") {\n      let isFresh = true;\n      fetchCities(searchTerm).then((cities) => {\n        if (isFresh) setCities(cities);\n      });\n      return () => (isFresh = false);\n    }\n  }, [searchTerm]);\n\n  return cities;\n}\n\nconst cache = {};\nfunction fetchCities(value) {\n  if (cache[value]) {\n    return Promise.resolve(cache[value]);\n  }\n  return fetch(\"https://walterkimaro.com/api/Employee/search?q=\" + value)\n    .then((res) => res.json())\n    .then((result) => {\n      cache[value] = result;\n      return result;\n    });\n}\n\nfunction SearchEmployees({placeholder = \"Type to search\", onChange}) {\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const cities = useCitySearch(searchTerm);\n    const handleSearchTermChange = (event) => {\n      setSearchTerm(event.target.value);\n    };\n    const handleSelect = (name) => {\n      const selectedEmployee= cities.find(({full_name}) => full_name === name);\n      onChange(selectedEmployee);\n    };\n\n    return (\n      <Combobox aria-label=\"Cities\" className=\"w-full\"\n        onSelect={handleSelect}\n      >\n        <ComboboxInput\n          className=\"w-full py-1 px-2 rounded border border-gray-300 focus:outline-none bg-gray-100\"\n          placeholder={placeholder}\n          onChange={handleSearchTermChange}\n          autoFocus\n        />\n        {cities && (\n          <ComboboxPopover className=\"rounded overflow-hidden bg-white shadow-lg border z-20\">\n            {cities.length > 0 ? (\n              <ComboboxList>\n                {cities.map((employee) => {\n                  return (\n                      <ComboboxOption key={employee._id} value={employee.full_name}>\n                          <div className=\"flex items-center px-2 border-t border-gray-300\" style={{height: \"34px\"}}>\n                              <div className=\"border relative w-6 h-6 rounded-full overflow-hidden\">\n                                  <img className=\"absolute w-full h-full object-cover\" src={employee.dp} alt=\"\" />\n                              </div>\n                              <span className=\"ml-2 text-sm\">{employee.full_name}</span>\n                          </div>\n                      </ComboboxOption>\n                  );\n                })}\n              </ComboboxList>\n            ) : (\n              <span className=\"block p-3\">\n                No results found\n              </span>\n            )}\n          </ComboboxPopover>\n        )}\n      </Combobox>\n    );\n  }\n\nexport default SearchEmployees;","import {\n    Combobox,\n    ComboboxInput,\n    ComboboxPopover,\n    ComboboxList,\n    ComboboxOption\n} from \"@reach/combobox\";\nimport { useEffect, useState } from \"react\";\n\nfunction useCitySearch(searchTerm) {\n  const [cities, setCities] = useState([]);\n\n  useEffect(() => {\n    if (searchTerm.trim() !== \"\") {\n      let isFresh = true;\n      fetchCities(searchTerm).then((cities) => {\n        if (isFresh) setCities(cities);\n      });\n      return () => (isFresh = false);\n    }\n  }, [searchTerm]);\n\n  return cities;\n}\n\nconst cache = {};\nfunction fetchCities(value) {\n  if (cache[value]) {\n    return Promise.resolve(cache[value]);\n  }\n  return fetch(\"https://walterkimaro.com/api/SessionType/search?q=\" + value)\n    .then((res) => res.json())\n    .then((result) => {\n      cache[value] = result;\n      return result;\n    });\n}\n\nfunction SelectActivity({placeholder = \"Type to search\", searchQuery = \"\", onSearchQueryChange, onChange}) {\n    const [searchTerm, setSearchTerm] = useState(searchQuery);\n    const cities = useCitySearch(searchTerm);\n    const handleSearchTermChange = (event) => {\n      onSearchQueryChange(event.target.value);\n      setSearchTerm(event.target.value);\n    };\n    const handleSelect = (name) => {\n      const selectedActivity= cities.find(({title}) => title === name);\n      onChange(selectedActivity);\n    };\n\n    return (\n      <Combobox aria-label=\"Cities\" className=\"w-full\"\n        onSelect={handleSelect}\n      >\n        <ComboboxInput\n          className=\"w-full py-1 px-2 rounded border border-gray-300 focus:outline-none bg-gray-100\"\n          placeholder={placeholder}\n          value={searchTerm}\n          onChange={handleSearchTermChange}\n          autoFocus\n        />\n        {cities && (\n          <ComboboxPopover className=\"rounded overflow-hidden bg-white shadow-lg border z-20\">\n            {cities.length > 0 \n              ? (\n                <ComboboxList>\n                  {cities.map((activity) => {\n                    return (\n                        <ComboboxOption \n                          key={activity._id} \n                          className=\"px-3 py-2\"\n                          value={activity.title} \n                        />\n                    );\n                  })}\n                </ComboboxList>\n              )\n              : null\n              // : (\n              //   <span className=\"block p-3\">\n              //     No results found\n              //   </span>\n              // )\n            }\n          </ComboboxPopover>\n        )}\n      </Combobox>\n    );\n  }\n\nexport default SelectActivity;","import { useEffect, useState } from \"react\";\nimport SelectActivity from \"./SelectActivity\";\n\nfunction ActivityPicker({activity, searchQuery, onSearchQueryChange = () => {}, onChange}){\n    const [value, setValue] = useState(activity);\n    useEffect(() => {\n        if(value && value !== activity)\n            onChange(value);\n    }, [value]);\n\n    return (\n        <>\n            { value && (        \n                <div className=\"flex items-center px-2 rounded bg-gray-200 bg-opacity-25 border border-gray-300\" style={{height: \"34px\"}}>\n                    <span className=\"ml-2 text-sm\">{value.title}</span>\n\n                    <button className=\"ml-auto text-blue-900 text-xs p-0\" onClick={() => {setValue(null); onChange(null)}}>\n                        Change\n                    </button>\n                </div>\n            )}\n\n            { !value && \n                <SelectActivity\n                    searchQuery={searchQuery}\n                    onSearchQueryChange={onSearchQueryChange} \n                    onChange={setValue} \n                /> \n            }\n        </>\n    );\n}\n\nexport default ActivityPicker;","import { useEffect, useState } from \"react\";\nimport { addMinutesToTime, getNumberFromTimeArray, getTimeFromNumber, numberTimeDiff } from \"./utils\";\nimport { defaultActivity } from \"./constants\";\nimport SearchEmployees from \"./SearchEmployees\";\nimport ActivityPicker from \"./ActivityPicker\";\nimport { useMutation } from \"react-query\";\n\nconst hourChoices = [8,9,10,11,12,13,14,15,16];\nconst minuteChoices = [0, 15, 30, 45];\n\nfunction EmployeePicker({employee, onChange}){\n    const [value, setValue] = useState(employee);\n    useEffect(() => {\n        if(value && value !== employee)\n            onChange(value);\n    }, [value]);\n\n    return (\n        <>\n            { value && (        \n                <div className=\"flex items-center px-2 rounded bg-gray-200 bg-opacity-25 border border-gray-300\" style={{height: \"34px\"}}>\n                    <div className=\"border relative w-6 h-6 rounded-full overflow-hidden\">\n                        <img className=\"absolute w-full h-full object-cover\" src={value.dp} alt=\"\" />\n                    </div>\n                    <span className=\"ml-2 text-sm\">{value.full_name}</span>\n\n                    <button className=\"ml-auto text-blue-900 text-xs p-0\" onClick={() => setValue(null)}>\n                        Change\n                    </button>\n                </div>\n            )}\n\n            { !value && <SearchEmployees onChange={setValue} /> }\n        </>\n    );\n}\n\nfunction AddSession({ session, onClose, onSave }) {\n    const duration = session.duration || 60;\n    const [employee, setEmployee] = useState(session.employee);\n    const [reviewer, setReviewer] = useState(session.employee);\n    const [startTime, setStartTime] = useState(session.startTime.split(\":\").map(digit => Number(digit)));\n    const [endTime, setEndTime] = useState([8,30]);\n    const [description, setDescription] = useState(\"\");\n    const [activity, setActivity] = useState(null);\n    const [title, setTitle] = useState(\"\");\n\n    const mutation = useMutation((updatedUser) =>\n        fetch('https://walterkimaro.com/api/Session', {\n            method: \"POST\",\n            body: JSON.stringify(updatedUser),\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n        ).then(res =>res.json()),\n        {\n            onSuccess: () => {\n                onSave();\n            },\n        }\n    );\n\n    const { isLoading, isError, error, isSuccess, data } = mutation;\n\n    useEffect(() => {\n        setEndTime(addMinutesToTime(Number(session.startTime.replace(\":\", \"\")), duration).split(\":\").map(digit => Number(digit)));\n    }, []);\n\n    function handleSave(){\n        const startTimeNumber = getNumberFromTimeArray(startTime);\n        const endTimeNumber = getNumberFromTimeArray(endTime);\n\n        const data = {\n            time: startTimeNumber,\n            duration: numberTimeDiff(endTimeNumber, startTimeNumber),\n            title,\n            activity: activity ? activity._id : defaultActivity,\n            description,\n            owner: employee._id,\n            reviewer: reviewer._id,\n        };\n\n        // onSave(data);\n        console.log(\"Save session:\", data);\n        mutation.mutate(data);\n    }\n\n    return (\n        <div className=\"fixed overflow-y-auto inset-0 bg-black bg-opacity-75 z-10 flex items-center justify-center\">\n            <div className=\"fixed inset-0\" onClick={onClose}>\n\n            </div>\n            <div className=\"rounded-md overflow-hidden w-full max-w-sm relative z-10\">\n                <div className=\"bg-blue-900 text-white py-3 px-4 flex items-center justify-between\">\n                    <h3 className=\"font-semibold\">\n                        Add Session\n                    </h3>\n\n                    <button className=\"p-1 hover:bg-white hover:bg-opacity-25 rounded-full\" onClick={onClose}>\n                        <svg className=\"w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\" /></svg>\n                    </button>\n                </div>\n\n                <div className=\"bg-white py-3 px-4\">\n                    {\n                        isError && <span>Error saving session: {error}</span>\n                    }\n\n                    <div className=\"mb-3\">\n                        Employee\n\n                        <EmployeePicker employee={employee} onChange={setEmployee} />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        Activity\n\n                        <ActivityPicker \n                            activity={activity}\n                            onSearchQueryChange={setTitle}\n                            onChange={setActivity} \n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <div className=\"flex items-center\">\n                            <div className=\"flex-1 flex-shrink-0 mr-2\">\n                                <label>Start Time</label>\n\n                                <div className=\"inline-flex items-center px-2 rounded bg-gray-100 border border-gray-300\" style={{height: \"34px\"}}>\n                                    <select className=\"\" value={startTime[0]} onChange={e => setStartTime([e.target.value, startTime[1]])}>\n                                        {\n                                            hourChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                    <span className=\"mx-3 text-gray-400\">|</span>\n                                    <select className=\"px-\" value={startTime[1]} onChange={e => setStartTime([startTime[0], e.target.value])}>\n                                        {\n                                            minuteChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n\n                            <div className=\"flex-1 flex-shrink-0\">\n                                <label>End time</label>\n\n                                <div className=\"inline-flex items-center px-2 rounded bg-gray-100 border border-gray-300\" style={{height: \"34px\"}}>\n                                    <select className=\"\" value={endTime[0]} onChange={e => setEndTime([e.target.value, endTime[1]])}>\n                                        {\n                                            hourChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                    <span className=\"mx-3 text-gray-400\">|</span>\n                                    <select className=\"px-\" value={endTime[1]} onChange={e => setEndTime([endTime[0], e.target.value])}>\n                                        {\n                                            minuteChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div className=\"mb-2\">\n                        <label>Session Details</label>\n\n                        <textarea type=\"text\" className=\"w-full py-1 px-2 rounded bg-gray-100 border border-gray-300 resize-y\" \n                            value={description}\n                            onChange={e => setDescription(e.target.value)}\n                        ></textarea>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        Reviewer\n\n                        <EmployeePicker employee={reviewer} onChange={setReviewer} />\n                    </div>\n\n                    <div className=\"flex justify-end\">\n                        <button className=\"mt-3 mb-1 text-sm py-1 px-6 rounded-full border border-blue-900 text-blue-900\"\n                            onClick={handleSave}\n                        >\n                            { isLoading ? 'Please Wait...' : 'Save Session' }\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AddSession;","import { useEffect, useState } from \"react\";\nimport { addMinutesToTime, getNumberFromTimeArray, getTimeFromNumber, numberTimeDiff } from \"./utils\";\nimport SearchEmployees from \"./SearchEmployees\";\nimport SelectActivity from \"./SelectActivity\";\nimport { useMutation } from \"react-query\";\nimport ActivityPicker from \"./ActivityPicker\";\nimport { defaultActivity } from \"./constants\";\n\nconst hourChoices = [8,9,10,11,12,13,14,15,16];\nconst minuteChoices = [0, 15, 30, 45];\n\nfunction EmployeePicker({employee, onChange}){\n    const [value, setValue] = useState(employee);\n    useEffect(() => {\n        if(value && value !== employee)\n            onChange(value);\n    }, [value]);\n\n    return (\n        <>\n            { value && (        \n                <div className=\"flex items-center px-2 rounded bg-gray-200 bg-opacity-25 border border-gray-300\" style={{height: \"34px\"}}>\n                    <div className=\"border relative w-6 h-6 rounded-full overflow-hidden\">\n                        <img className=\"absolute w-full h-full object-cover\" src={value.dp} alt=\"\" />\n                    </div>\n                    <span className=\"ml-2 text-sm\">{value.full_name}</span>\n\n                    <button className=\"ml-auto text-blue-900 text-xs p-0\" onClick={() => setValue(null)}>\n                        Change\n                    </button>\n                </div>\n            )}\n\n            { !value && <SearchEmployees onChange={setValue} /> }\n        </>\n    );\n}\n\nfunction EditSession({ session, onClose, onSave }) {\n    const duration = session.duration;\n    const [employee, setEmployee] = useState(session.owner);\n    const [reviewer, setReviewer] = useState(session.reviewer);\n    const [startTime, setStartTime] = useState(getTimeFromNumber(session.time).split(\":\").map(digit => Number(digit)));\n    const [endTime, setEndTime] = useState([8,30]);\n    const [description, setDescription] = useState(session.description);\n    const [activity, setActivity] = useState(session.activity && session.activity._id !== \"a535186e-5e34-4bc1-872f-d06d7b604613\" ? session.activity : null);\n    const [title, setTitle] = useState(session.title);\n\n    const mutation = useMutation((updatedUser) =>\n        fetch('https://walterkimaro.com/api/Session/' + session._id, {\n            method: \"PATCH\",\n            body: JSON.stringify(updatedUser),\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }\n        ).then(res =>res.json()),\n        {\n            onSuccess: () => {\n                onSave();\n            },\n        }\n    );\n\n    const { isLoading, isError, error, isSuccess, data } = mutation;\n\n    useEffect(() => {\n        const startTime = getTimeFromNumber(session.time).replace(\":\", \"\");\n        setEndTime(addMinutesToTime(Number(startTime), duration).split(\":\").map(digit => Number(digit)));\n    }, []);\n\n    function handleSave(){\n        const startTimeNumber = getNumberFromTimeArray(startTime);\n        const endTimeNumber = getNumberFromTimeArray(endTime);\n\n        const data = {\n            time: startTimeNumber,\n            duration: numberTimeDiff(endTimeNumber, startTimeNumber),\n            title,\n            activity: activity ? activity._id : defaultActivity,\n            description,\n            owner: employee._id,\n            reviewer: reviewer._id,\n        };\n\n        // onSave(data);\n        console.log(\"Save session:\", data);\n        mutation.mutate(data);\n    }\n\n    return (\n        <div className=\"fixed overflow-y-auto inset-0 bg-black bg-opacity-75 z-10 flex items-center justify-center\">\n            <div className=\"fixed inset-0\" onClick={onClose}>\n\n            </div>\n            <div className=\"rounded-md overflow-hidden w-full max-w-sm relative z-10\">\n                <div className=\"bg-blue-900 text-white py-3 px-4 flex items-center justify-between\">\n                    <h3 className=\"font-semibold\">\n                        Edit Session\n                    </h3>\n\n                    <button className=\"p-1 hover:bg-white hover:bg-opacity-25 rounded-full\" onClick={onClose}>\n                        <svg className=\"w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\" /></svg>\n                    </button>\n                </div>\n\n                <div className=\"bg-white py-3 px-4\">\n                    {\n                        isError && <span>Error saving session: {error}</span>\n                    }\n\n                    <div className=\"mb-3\">\n                        Employee\n\n                        <EmployeePicker employee={employee} onChange={setEmployee} />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        Activity\n\n                        <ActivityPicker \n                            activity={activity}\n                            searchQuery={title}\n                            onSearchQueryChange={setTitle}\n                            onChange={setActivity} \n                        />\n                    </div>\n\n                    <div className=\"mb-4\">\n                        <div className=\"flex items-center\">\n                            <div className=\"flex-1 flex-shrink-0 mr-2\">\n                                <label>Start Time</label>\n\n                                <div className=\"inline-flex items-center px-2 rounded bg-gray-100 border border-gray-300\" style={{height: \"34px\"}}>\n                                    <select className=\"\" value={startTime[0]} onChange={e => setStartTime([e.target.value, startTime[1]])}>\n                                        {\n                                            hourChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                    <span className=\"mx-3 text-gray-400\">|</span>\n                                    <select className=\"px-\" value={startTime[1]} onChange={e => setStartTime([startTime[0], e.target.value])}>\n                                        {\n                                            minuteChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n\n                            <div className=\"flex-1 flex-shrink-0\">\n                                <label>End time</label>\n\n                                <div className=\"inline-flex items-center px-2 rounded bg-gray-100 border border-gray-300\" style={{height: \"34px\"}}>\n                                    <select className=\"\" value={endTime[0]} onChange={e => setEndTime([e.target.value, endTime[1]])}>\n                                        {\n                                            hourChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                    <span className=\"mx-3 text-gray-400\">|</span>\n                                    <select className=\"px-\" value={endTime[1]} onChange={e => setEndTime([endTime[0], e.target.value])}>\n                                        {\n                                            minuteChoices.map(h => (\n                                                <option key={h} value={h}>{h.toString().padStart(2, '0')}</option>\n                                            ))\n                                        }\n                                    </select>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div className=\"mb-2\">\n                        <label>Session Details</label>\n\n                        <textarea type=\"text\" className=\"w-full py-1 px-2 rounded bg-gray-100 border border-gray-300 resize-y\" \n                            value={description}\n                            onChange={e => setDescription(e.target.value)}\n                        ></textarea>\n                    </div>\n\n                    <div className=\"mb-4\">\n                        Reviewer\n\n                        <EmployeePicker employee={reviewer} onChange={setReviewer} />\n                    </div>\n\n                    <div className=\"flex justify-end\">\n                        <button className=\"mt-3 mb-1 text-sm py-1 px-6 rounded-full border border-blue-900 text-blue-900\"\n                            onClick={handleSave}\n                        >\n                            { isLoading ? 'Please Wait...' : 'Save Session' }\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default EditSession;","import { useState, useEffect } from \"react\";\nimport { useMutation } from \"react-query\";\nimport { defaultActivity } from \"./constants\";\nimport { addMinutesToTime, getTimeFromNumber } from \"./utils\";\n\nconst SessionTile = ({ session, employee, onEdit, onDelete }) => {\n    const [mouseOver, setMouseOver] = useState(false);\n    const [shiftSelected, setShiftSelected] = useState(false);\n    const [deleting, setDeleting] = useState(false);\n\n    let selfReview = session.reviewer._id === session.owner._id;\n    let asReviewer = false;\n    if (!selfReview && session.reviewer._id === employee._id)\n        asReviewer = true;\n\n    let rowStart = 1, rowEnd = 1;\n    let timeDiff = Math.round((session.time - 800) / 100) * 100;\n    let colStart = (timeDiff / 25) + 1;\n    colStart += ((session.time - 800) % 100) / 15;\n    let colEnd = colStart + (session.duration / 15);\n    let gridArea = `${rowStart} / ${colStart} / ${rowEnd} / ${colEnd}`;\n\n    const canDelete = mouseOver && shiftSelected;\n\n    let activity = session.activity.title;\n    if(session.activity._id === defaultActivity)\n        activity = session.title;\n\n    useEffect(() => {\n        window.addEventListener(\"shift-released\", shiftReleased, false);\n        window.addEventListener(\"shift-selected\", onShiftSelected, false);\n        return () => {\n            console.log(\"Listener removed from tile\");\n            window.removeEventListener(\"shift-released\", shiftReleased, false);\n            window.removeEventListener(\"shift-selected\", onShiftSelected, false);\n        };\n    }, []);\n\n    const deleter = useMutation(() =>\n      fetch('https://walterkimaro.com/api/Session/' + session._id, {\n          method: \"DELETE\",\n          headers: {\n            'Content-Type': 'application/json'\n          }\n      })\n      .then(res =>res.json()), {\n          onSuccess: onDelete,\n      });\n\n    function shiftReleased(e){\n        console.log(\"Shift release captured\");\n        setShiftSelected(false);\n    }\n\n    function onShiftSelected(e){\n        console.log(\"Shift release captured\");\n        setShiftSelected(true);\n    }\n\n    function handleDeleteSession(){\n        setDeleting(true);\n        deleter.mutate();\n    }\n\n    return (\n        <div className={`session-card pointer-events-auto cursor-pointer bg-blue-900 text-white relative ${deleting && 'animate-pulse'}`} style={{ gridArea }}\n            onMouseOver={(e) => setMouseOver(true)}\n            onMouseLeave={_ => setMouseOver(false)}\n            onClick={_ => canDelete ? handleDeleteSession() : onEdit(session)}\n        >\n            {(canDelete || deleting) &&\n                <div className=\"z-10 bg-red-500 absolute inset-0 flex items-center px-2 text-xs\">\n                    { deleting ? 'Removing Session...' : 'Remove Session' }\n                </div>\n            }\n            <div>\n                <div className=\"truncate opacity-50\" style={{ fontSize: \"10px\" }}>\n                    {getTimeFromNumber(session.time)} - {addMinutesToTime(session.time, session.duration)}\n                </div>\n                <h3 className=\"mt-0.5\">\n                    {asReviewer &&\n                        <span>Review {session.owner.full_name}</span>\n                    }\n                    {!asReviewer && activity}\n                </h3>\n                {!selfReview && !asReviewer && (\n                    <div style={{ marginTop: \"0.15rem\", display: \"flex\", alignItems: \"center\", fontSize: \"13px\" }}>\n                        <img style={{ width: \"20px\", height: \"20px\", objectFit: \"cover\", borderRadius: \"50%\" }}\n                            title={'Reviewer: ' + session.reviewer.full_name} src={session.reviewer.dp} alt=\"\"\n                        />\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default SessionTile;","import { addMinutesToTime, getTimeFromNumber } from \"./utils\";\n\nfunction SingleEmployeeSchedule({ employee, sessions, onClose }) {\n    const sortedSessions = sessions.sort((a, b) => a.time - b.time);\n\n    return (\n        <div className=\"fixed overflow-y-auto inset-0 bg-black bg-opacity-75 z-10 flex items-center justify-center\">\n            <div className=\"fixed inset-0\" onClick={onClose}>\n\n            </div>\n            <div className=\"rounded-lg overflow-hidden w-full max-w-lg relative z-10\">\n                <div className=\"bg-blue-900 text-white py-3 px-4 flex items-center justify-between\">\n                    <div className=\"flex items-center\">\n                        <div className=\"border relative w-8 h-8 rounded-full overflow-hidden\">\n                            <img className=\"absolute w-full h-full object-cover\" src={employee.dp} alt=\"\" />\n                        </div>\n                        <h3 className=\"ml-3\">{employee.full_name}</h3>\n                    </div>\n\n                    <button className=\"p-1 hover:bg-white hover:bg-opacity-25 rounded-full\" onClick={onClose}>\n                        <svg className=\"w-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\" /></svg>\n                    </button>\n                </div>\n\n                <div className=\"bg-white p-3\">\n                    {sortedSessions.map((session) => {\n                        let selfReview = session.reviewer._id === session.owner._id;\n                        let asReviewer = false;\n                        if (!selfReview && session.reviewer._id === employee._id)\n                            asReviewer = true;\n\n                        return (\n                            <div key={session._id} className=\"mb-3\">\n                                <div className=\"flex items-start\">\n                                    <span className=\"w-32 ml-2 mr-2 flex-shrink-0 text-blue-900\">\n                                        {getTimeFromNumber(session.time)} - {addMinutesToTime(session.time, session.duration)}\n                                    </span>\n\n                                    <div className=\"flex-1\">\n                                        <h3 className=\"font-semibold\">\n                                            {asReviewer && <span><span className=\"font-normal\">Review</span> {session.owner.full_name}</span>}\n                                            {!asReviewer && session.activity.title}\n                                        </h3>\n                                        <p className=\"text-sm opacity-75\">\n                                            {session.description}\n                                        </p>\n\n                                        {!selfReview && !asReviewer && (\n                                            <div className=\"flex items-center mt-1\">\n                                                <img style={{ width: \"24px\", height: \"24px\", objectFit: \"cover\", borderRadius: \"50%\" }}\n                                                    title={'Reviewer: ' + session.reviewer.full_name} src={session.reviewer.dp} alt=\"\"\n                                                />\n\n                                                <span className=\"ml-3\">\n                                                    Reviewer: {session.reviewer.full_name}\n                                                </span>\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default SingleEmployeeSchedule;","import { useEffect, useRef, useState } from \"react\";\nimport { useMutation } from \"react-query\";\n\nimport {\n    Combobox,\n    ComboboxInput,\n    ComboboxPopover,\n    ComboboxList,\n    ComboboxOption\n} from \"@reach/combobox\";\n\nfunction useCitySearch(searchTerm) {\n  const [cities, setCities] = useState([]);\n\n  useEffect(() => {\n    if (searchTerm.trim() !== \"\") {\n      let isFresh = true;\n      fetchCities(searchTerm).then((cities) => {\n        if (isFresh) setCities(cities);\n      });\n      return () => (isFresh = false);\n    }\n  }, [searchTerm]);\n\n  return cities;\n}\n\nconst cache = {};\nfunction fetchCities(value) {\n  if (cache[value]) {\n    return Promise.resolve(cache[value]);\n  }\n  return fetch(\"https://walterkimaro.com/api/Employee/search?q=\" + value)\n    .then((res) => res.json())\n    .then((result) => {\n      cache[value] = result;\n      return result;\n    });\n}\n\nfunction SpotlightSearch({placeholder = \"Search Employee\", onClose, onSelectUser}) {\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const cities = useCitySearch(searchTerm);\n    const inputRef = useRef(null);\n\n    useEffect(() => {\n        document.addEventListener(\"keyup\", onShiftUp, false);\n        return () => {\n            document.removeEventListener(\"keyup\", onShiftUp, false);\n        };\n    }, []);\n\n    function onShiftUp(e){\n        if(e.key === \"Escape\"){\n            if(inputRef.current.value.length)\n                setSearchTerm(\"\");\n            else\n                onClose();\n        };\n    }\n    \n    const handleSearchTermChange = (event) => {\n        if(event.target.value === inputRef.current.value)\n          setSearchTerm(event.target.value);\n    };\n\n    const handleSelect = (name) => {\n      const selectedEmployee= cities.find(({full_name}) => full_name === name);\n      onSelectUser({...selectedEmployee, fromSpotlight: true});\n    };\n\n    return (\n        <div className=\"fixed overflow-y-auto inset-0 bg-black bg-opacity-75 z-10 flex items-center justify-center\">\n            <div className=\"fixed inset-0\" onClick={onClose}>\n\n            </div>\n            <div className=\"overflow-hidden w-full max-w-sm relative z-10\">\n                <div className=\"\">\n                    <Combobox aria-label=\"Cities\" className=\"w-full\"\n                        onSelect={handleSelect}\n                    >\n                        <ComboboxInput\n                            ref={inputRef}\n                            className=\"w-full bg-white py-3 px-4 text-xl rounded border-none bg-transparent focus:outline-none placeholder-gray-300\"\n                            placeholder={placeholder}\n                            value={searchTerm}\n                            onChange={handleSearchTermChange}\n                            autoFocus\n                        />\n                        {cities && (\n                            <ComboboxPopover className=\"-mt-1 bg-white relative rounded-b overflow-hidden bg-white shadow-lg border z-20\">\n                                {cities.length > 0 ? (\n                                <ComboboxList>\n                                    {cities.map((employee) => {\n                                    return (\n                                        <ComboboxOption key={employee._id} value={employee.full_name}>\n                                            <div className=\"flex items-center py-2 px-4 border-b border-gray-100\">\n                                                <div className=\"border relative w-6 h-6 rounded-full overflow-hidden\">\n                                                    <img className=\"absolute w-full h-full object-cover\" src={employee.dp} alt=\"\" />\n                                                </div>\n                                                <span className=\"ml-2 text-sm\">{employee.full_name}</span>\n                                            </div>\n                                        </ComboboxOption>\n                                    );\n                                    })}\n                                </ComboboxList>\n                                ) : (\n                                <span className=\"block p-3\">\n                                    No results found\n                                </span>\n                                )}\n                            </ComboboxPopover>\n                        )}\n                    </Combobox>\n                </div>\n            </div>\n        </div>\n    );\n  }\n\nexport default SpotlightSearch;","import { useEffect, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport AddSession from './AddSession';\nimport './App.css';\nimport EditSession from './EditSession';\nimport SessionTile from './SessionTile';\nimport SingleEmployeeSchedule from './SingleEmployeeSchedule';\nimport SpotlightSearch from './SpotlightSearch';\nimport { getTimeFromRow } from './utils';\n\nconst hours = 8;\n\nfunction ScheduleGrid({employees, sessions, onSessionsUpdated}){\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [newSession, setNewSession] = useState(null);\n  const [sessionBeingEdited, setSessionBeingEdited] = useState(null);\n  const [spotlightSearch, setSpotlightSearch] = useState(false);\n  \n  useEffect(() => {\n    document.addEventListener(\"keyup\", onShiftUp, false);\n    document.addEventListener(\"keydown\", onShiftDown, false);\n    return () => {\n        document.removeEventListener(\"keydown\", onShiftDown, false);\n        document.removeEventListener(\"keyup\", onShiftUp, false);\n    };\n  }, []);\n\n  function onShiftUp(e){\n    if(e.key === \"Shift\"){\n      const userPermissionsInitEvent = new CustomEvent('shift-released');\n      window.dispatchEvent(userPermissionsInitEvent);\n    }\n\n    else if(!newSession && !sessionBeingEdited){\n      if(e.key === \"/\")\n          setSpotlightSearch(true);\n      else if(e.key === \"Escape\"){\n        if(selectedUser && selectedUser.fromSpotlight){\n          setSpotlightSearch(true);\n          setTimeout(() => setSelectedUser(null), 20);\n        }\n        else\n          setSelectedUser(null);\n      }\n    }\n  }\n\n  function onShiftDown(e){\n    if(e.key === \"Shift\"){\n      const userPermissionsInitEvent = new CustomEvent('shift-selected');\n      window.dispatchEvent(userPermissionsInitEvent);\n    }\n  }\n\n  function getEmployeeSessions(employeeId){\n    if(!sessions || !sessions.length)\n      return [];\n\n    return sessions.filter(session => {\n      return session.owner._id === employeeId || session.reviewer._id === employeeId;\n    });\n  }\n\n  function handleOnSaveSession(){\n    setNewSession(null);\n    setSessionBeingEdited(null);\n    onSessionsUpdated();\n  }\n\n  return (\n    <>\n      {\n        employees.map((e, i) => (\n          <div key={e._id} style={{display: 'flex', border: \"2px solid #f5f5f5\"}}>\n            <div className=\"employee-title hover:bg-gray-200 cursor-pointer\" onClick={() => setSelectedUser(e)}>\n              <img style={{width: \"20px\", height: \"20px\", objectFit: \"cover\", borderRadius: \"50%\", boxShadow: \"0 0 1px rgba(0, 0, 0, 0.26)\"}} \n                title={'Reviewer: ' + e.full_name} src={e.dp} alt=\"\" \n              />\n              <span>{e.full_name}</span>\n            </div>\n            <div style={{flex: 1, position: \"relative\"}}>\n              <div style={{height: \"100%\",display: 'grid', gap: \"1px\", gridTemplateColumns: `repeat(${hours * 4}, 1fr)`}}>\n                {\n                  Array(hours*4).fill(12).map((_, i) => (\n                    <div key={i} style={{display: 'flex', background: \"#ddd\", position: 'relative'}}\n                      className=\"cursor-pointer\"\n                      // onClick={() => {console.log(\"Add new session: \", {employee: e, startTime: getTimeFromRow(i+1)});}}\n                      onClick={() => setNewSession({employee: e, startTime: getTimeFromRow(i+1)})}\n                    >\n                      {/* <span style={{position: \"absolute\"}}>{ i + 1 }</span> */}\n                    </div>\n                  ))\n                }\n              </div>\n\n              <div className=\"absolute inset-0 grid pointer-events-none\" style={{background: \"rgba(0, 0, 0, 0.01)\", gap: \"1px\", gridTemplateColumns: `repeat(${hours * 4}, 1fr)`}}>\n                {\n                  getEmployeeSessions(e._id).map((session, index) => {\n                    return (\n                      <SessionTile \n                        key={index} \n                        employee={e} \n                        session={session} \n                        onEdit={setSessionBeingEdited}\n                        onDelete={handleOnSaveSession}\n                      />\n                    );\n                  })\n                }\n              </div>\n            </div>\n          </div>\n        ))}\n\n        { selectedUser && (\n            <SingleEmployeeSchedule \n              employee={selectedUser}\n              sessions={getEmployeeSessions(selectedUser._id)}\n              onClose={_ => setSelectedUser(null)}\n            />\n          )\n        }\n\n        { newSession && (\n            <AddSession \n              session={newSession}\n              onClose={_ => setNewSession(null)}\n              onSave={handleOnSaveSession}\n            />\n          )\n        }\n\n        { sessionBeingEdited && (\n            <EditSession \n              session={sessionBeingEdited}\n              onClose={_ => setSessionBeingEdited(null)}\n              onSave={handleOnSaveSession}\n            />\n          )\n        }\n        \n        { spotlightSearch && (\n            <SpotlightSearch \n              onSelectUser={user => {setSpotlightSearch(false); setSelectedUser(user)}}\n              onClose={_ => setSpotlightSearch(false)}\n            />\n          )\n        }\n    </>\n  );\n}\n\nfunction App() {\n  const {isLoading, error, data} = useQuery('employeeList', () =>\n    fetch('https://walterkimaro.com/api/Employee').then(res =>\n      res.json()\n    )\n  );\n\n  const sessions = useQuery('sessions', () =>\n    fetch('https://walterkimaro.com/api/Session').then(res =>\n      res.json()\n    )\n  );\n\n  if (isLoading || sessions.isLoading) return 'Loading...';\n\n  return (\n    <div>\n      <div style={{display: 'flex', background: \"#fff\", color: \"white\", position: \"sticky\", top: 0, zIndex: 1}}>\n        <div style={{background:\"#333\", borderRight: \"1px solid #fff\", padding: '0.25rem', width: '90px', flexShrink: 0}}>\n          {/* Person / Time */}\n        </div>\n        <div style={{flex: 1, display: 'grid', gap: \"1px\", gridTemplateColumns: `repeat(${hours}, 1fr)`}}>\n          {\n            Array(hours).fill(11).map((_, i) => (\n              <div key={i} style={{display: 'flex', background: \"#333\", padding: '0.25rem'}}>\n                { 8 + i}:00\n              </div>\n            ))\n          }\n        </div>\n      </div>\n\n      <ScheduleGrid \n        employees={data.sort((a, b) => a.tin_number - b.tin_number)}\n        sessions={sessions.data} \n        onSessionsUpdated={() => sessions.refetch() }\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { QueryClient, QueryClientProvider } from 'react-query'\n \n const queryClient = new QueryClient();\n\n\nReactDOM.render(\n  // <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n     </QueryClientProvider>\n  // </React.StrictMode>,\n  , document.getElementById('root')\n);"],"sourceRoot":""}